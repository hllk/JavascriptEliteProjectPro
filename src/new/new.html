<div ng-controller="NewMsgCtrl">
    <form class="form-horizontal" name="messageForm" ng-class="{submitted:newMessage.submitted}">
        
        <div class="form-group" data-ng-repeat="adress in adresses" ng-class="{ 'has-error': messageForm.email.$invalid && submitted}">
           <label for="inputEmail" class="col-sm-2 control-label">Odbiorca {{adress.id}}</label>
            <div class="col-sm-10">
                <input type="email" class="form-control" ng-model="emails[adress.id-1]" placeholder="Adres odbiorcy" name="email" required>
                <span ng-show="messageForm.email.$error.required && submitted">Podaj email odbiorcy</span>
                <span ng-show="messageForm.email.$error.email && submitted">Niepoprawny adres email</span>
            </div>
            
        </div>
        <div class="form-group">
            <div class="col-sm-offset-2 col-sm-10">
                <button ng-click="addNewAdress()" class="btn btn-default" id="newAdressButton">
                <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
                </button>
                
                <button ng-click="removeAdress()" class="btn btn-default" id="removeAdressButton">
                <span class="glyphicon glyphicon-minus" aria-hidden="true"></span>
                </button>
            </div>
        </div>
        
        <div class="form-group" ng-class="{ 'has-error': messageForm.inputTitle.$invalid && submitted}">
             <label for="inputTitle" class="col-sm-2 control-label">Tytuł</label>
            <div class="col-sm-10">
                <input type="text" class="form-control" ng-model="inputTitle" placeholder="Jakiś tytuł" name="inputTitle" required >
                  <span ng-show="messageForm.inputTitle.$error.required && submitted">Podaj tytuł maila</span>
            </div>
        </div>
        <div class="form-group" ng-class="{ 'has-error': messageForm.inputContent.$invalid && submitted}">
            <label for="inputContent" class="col-sm-2 control-label">Treść</label>
            <div class="col-sm-10">
                <textarea class="form-control" ng-model="inputContent" placeholder="Treść wiadomości" name="inputContent" rows="10" required></textarea>
                  <span ng-show="messageForm.inputContent.$error.required && submitted">Podaj treść wiadomości</span>
            </div>
        </div>
        <div class="form-group">
            <div class="col-sm-offset-2 col-sm-10">
                <button ng-click="send()" type="submit" class="btn btn-default" id="sendButton">Wyślij</button>
            </div>
        </div>
    
    </form>
</div>